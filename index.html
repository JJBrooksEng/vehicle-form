<!DOCTYPE html>
<html>
<head>
  <title>Vehicle Damage Report</title>
</head>
<body>
  <form id="damage-form">
    <label>Customer Name: <input type="text" name="customerName" required></label><br>
    <label>Contact Number: <input type="text" name="contactNumber"></label><br>
    <label>Email Address: <input type="email" name="email"></label><br>
    <label>Vehicle Make: <input type="text" name="vehicleMake"></label><br>
    <label>Vehicle Model: <input type="text" name="vehicleModel"></label><br>
    <label>Vehicle Registration: <input type="text" name="vehicleReg"></label><br>
    <label>Description of Repairs Required:<br><textarea name="repairDescription"></textarea></label><br>
    <label>Replacement Parts Required:<br><textarea name="replacementParts"></textarea></label><br>
    <label>Paint Type: <input type="text" name="paintType"></label><br>
    <label>Estimated Workshop Hours: <input type="text" name="estimatedHours"></label><br>
    <label>Dates Available: <input type="text" name="availableDates"></label><br>
    <label>Price Agreed (if applicable): <input type="text" name="priceAgreed"></label><br><br>

    <canvas id="damageCanvas" width="300" height="150" style="border:1px solid #000000;"></canvas><br>
    <button type="button" onclick="submitForm()">Submit</button>
  </form>

  <script>
    function submitForm() {
      const form = document.getElementById('damage-form');
      const formData = new FormData(form);

      const canvas = document.getElementById('damageCanvas');
      const imageDataURL = canvas.toDataURL('image/png');
      formData.append('imageDataURL', imageDataURL);

      fetch("https://script.google.com/macros/s/AKfycbzp7mV1TmBJBOrgXg78CQUeK-c9UUQpTFkbz5jGkDEJVSeFRxd9Sv9N1vMqi8_DqT0h/exec", {
        method: "POST",
        body: formData,
      })
      .then(response => response.text())
      .then(result => alert("Form submitted successfully."))
      .catch(error => alert("Submission failed."));
    }
  </script>
</body>
</html>
